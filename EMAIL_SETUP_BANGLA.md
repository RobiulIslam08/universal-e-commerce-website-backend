# ржкрзЗржорзЗржирзНржЯ ржХржиржлрж╛рж░рзНржорзЗрж╢ржи ржЗржорзЗржЗрж▓ рж╕рзЗржЯржЖржк ржЧрж╛ржЗржб (ржмрж╛ржВрж▓рж╛)

## рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржмрж┐ржмрж░ржг

ржПржЗ ржЧрж╛ржЗржб ржЖржкржирж╛ржХрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржкрзЗржорзЗржирзНржЯ ржХржиржлрж╛рж░рзНржорзЗрж╢ржи ржЗржорзЗржЗрж▓ рж╕рзЗржЯржЖржк ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗред ржкрзЗржорзЗржирзНржЯ рж╕ржлрж▓ рж╣ржУржпрж╝рж╛рж░ ржкрж░ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржХрзНрж░рзЗрждрж╛рж░ ржЗржорзЗржЗрж▓рзЗ ржПржХржЯрж┐ рж╕рзБржирзНржжрж░ ржХржиржлрж╛рж░рзНржорзЗрж╢ржи ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛ рж╣ржмрзЗред

## ржХрж┐ ржХрж┐ ржпрзБржХрзНржд рж╣ржпрж╝рзЗржЫрзЗ

### рзз. ржирждрзБржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ:

- `src/app/utils/sendEmail.ts` - ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛрж░ ржЗржЙржЯрж┐рж▓рж┐ржЯрж┐ ржлрж╛ржВрж╢ржи
- `EMAIL_SETUP_GUIDE.md` - ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рж╕рзЗржЯржЖржк ржЧрж╛ржЗржб (ржЗржВрж░рзЗржЬрж┐)

### рзи. ржЖржкржбрзЗржЯ рж╣ржУржпрж╝рж╛ ржлрж╛ржЗрж▓:

- `src/app/config/index.ts` - ржЗржорзЗржЗрж▓ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржпрзБржХрзНржд рж╣ржпрж╝рзЗржЫрзЗ
- `src/app/modules/Payment/payment.service.ts` - ржкрзЗржорзЗржирзНржЯ рж╕ржлрж▓ рж╣рж▓рзЗ ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛрж░ рж▓ржЬрж┐ржХ
- `.env.example` - ржЗржорзЗржЗрж▓ рж╕рзЗржЯрж┐ржВрж╕рзЗрж░ ржЙржжрж╛рж╣рж░ржг

### рзй. ржЗржирж╕рзНржЯрж▓ рж╣ржУржпрж╝рж╛ ржкрзНржпрж╛ржХрзЗржЬ:

- `nodemailer` - ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп
- `@types/nodemailer` - TypeScript рж╕рж╛ржкрзЛрж░рзНржЯ

## рж╕рзЗржЯржЖржк ржХрж░рж╛рж░ ржзрж╛ржк

### ржзрж╛ржк рзз: .env ржлрж╛ржЗрж▓ ржЖржкржбрзЗржЯ ржХрж░рзБржи

ржЖржкржирж╛рж░ `.env` ржлрж╛ржЗрж▓рзЗ ржПржЗ рж▓рж╛ржЗржиржЧрзБрж▓рзЛ ржпрзЛржЧ ржХрж░рзБржи:

```env
# Email Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password_here
EMAIL_FROM_NAME=ржЖржкржирж╛рж░ ржжрзЛржХрж╛ржирзЗрж░ ржирж╛ржо
```

### ржзрж╛ржк рзи: Gmail App Password рждрзИрж░рж┐ ржХрж░рзБржи (ржпржжрж┐ Gmail ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи)

**ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:** рж╕рж╛ржзрж╛рж░ржг ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ржирж╛, App Password ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

1. **2-Step Verification ржЪрж╛рж▓рзБ ржХрж░рзБржи:**

   - ржпрж╛ржи: https://myaccount.google.com/security
   - "2-Step Verification" ржЪрж╛рж▓рзБ ржХрж░рзБржи

2. **App Password рждрзИрж░рж┐ ржХрж░рзБржи:**

   - ржпрж╛ржи: https://myaccount.google.com/apppasswords
   - "Select app" ржерзЗржХрзЗ "Mail" ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи
   - "Select device" ржерзЗржХрзЗ ржЖржкржирж╛рж░ ржбрж┐ржнрж╛ржЗрж╕ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи
   - "Generate" ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи
   - рззрзм ржЕржХрзНрж╖рж░рзЗрж░ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржХржкрж┐ ржХрж░рзБржи

3. **.env ржлрж╛ржЗрж▓рзЗ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржпрзБржХрзНржд ржХрж░рзБржи:**
   ```env
   EMAIL_USER=youremail@gmail.com
   EMAIL_PASS=abcd efgh ijkl mnop  # ржПржЦрж╛ржирзЗ App Password ржмрж╕рж╛ржи
   ```

### ржзрж╛ржк рзй: рж╕рж╛рж░рзНржнрж╛рж░ ржЪрж╛рж▓рзБ ржХрж░рзБржи

```bash
npm run dev
```

### ржзрж╛ржк рзк: ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи

рзз. ржПржХржЯрж┐ ржЯрзЗрж╕рзНржЯ ржкрзЗржорзЗржирзНржЯ ржХрж░рзБржи (Stripe test card ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ)
рзи. ржЗржЙржЬрж╛рж░рзЗрж░ ржЗржорзЗржЗрж▓ ржЪрзЗржХ ржХрж░рзБржи
рзй. рж╕рзНржкрзНржпрж╛ржо ржлрзЛрж▓рзНржбрж╛рж░ржУ ржЪрзЗржХ ржХрж░рзБржи (ржкрзНрж░ржержоржмрж╛рж░рзЗрж░ ржЬржирзНржп)

## ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ

рзз. **ржкрзЗржорзЗржирзНржЯ рж╕ржлрж▓ рж╣рж▓рзЗ:**

- ржЗржиржнрзЗржирзНржЯрж░рж┐ ржЖржкржбрзЗржЯ рж╣ржпрж╝
- ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржкрзЗржорзЗржирзНржЯ рж░рзЗржХрж░рзНржб рж╕рзЗржн рж╣ржпрж╝
- рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЗржЙржЬрж╛рж░рзЗрж░ ржЗржорзЗржЗрж▓рзЗ ржХржиржлрж╛рж░рзНржорзЗрж╢ржи ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝

рзи. **ржЗржорзЗржЗрж▓рзЗ ржерж╛ржХржмрзЗ:**

- тЬЕ ржкрзЗржорзЗржирзНржЯ рж╕ржлрж▓ рж╣ржУржпрж╝рж╛рж░ ржХржиржлрж╛рж░рзНржорзЗрж╢ржи
- ЁЯТ│ Transaction ID
- ЁЯТ░ ржорзЛржЯ ржЯрж╛ржХрж╛рж░ ржкрж░рж┐ржорж╛ржг
- ЁЯУж ржЕрж░рзНржбрж╛рж░рзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржмрж┐ржмрж░ржг (ржЖржЗржЯрзЗржо рж▓рж┐рж╕рзНржЯ рж╕рж╣)
- ЁЯЪЪ рж╢рж┐ржкрж┐ржВ ржарж┐ржХрж╛ржирж╛
- ЁЯОи рж╕рзБржирзНржжрж░ HTML ржбрж┐ржЬрж╛ржЗржи

## ржЗржорзЗржЗрж▓ ржЯрзЗржоржкрзНрж▓рзЗржЯ

ржЗржорзЗржЗрж▓ ржЯрзЗржоржкрзНрж▓рзЗржЯ ржжрзЗржЦрждрзЗ ржХрзЗржоржи рж╣ржмрзЗ:

```
тХФтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХЧ
тХС     Payment Confirmed! тЬЕ             тХС
тХЪтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХРтХЭ

Hi [User Name],

Thank you for your purchase! Your payment has been
successfully processed.

тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ
Payment ID: pi_xxxxxxxxxxxxx
Total Amount: USD 99.99
Payment Status: SUCCEEDED
тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ

Order Details:
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ Product      тФВ Qty тФВ Price          тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Product 1    тФВ  2  тФВ USD 49.99      тФВ
тФВ Product 2    тФВ  1  тФВ USD 49.99      тФВ
тФЬтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ Total               тФВ USD 99.99      тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ

Shipping Address:
John Doe
123 Main Street
New York, NY 10001
United States

Thank you for shopping with us! ЁЯОЙ
```

## ржЯрзНрж░рж╛ржмрж▓рж╢рзБржЯрж┐ржВ

### рж╕ржорж╕рзНржпрж╛: ржЗржорзЗржЗрж▓ ржкрж╛ржарж╛ржирзЛ рж╣ржЪрзНржЫрзЗ ржирж╛

**рж╕ржорж╛ржзрж╛ржи:**

1. `.env` ржлрж╛ржЗрж▓ ржЪрзЗржХ ржХрж░рзБржи
2. Gmail App Password рж╕ржарж┐ржХ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
3. 2-Step Verification ржЪрж╛рж▓рзБ ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
4. рж╕рж╛рж░рзНржнрж╛рж░ рж▓ржЧ ржжрзЗржЦрзБржи

### рж╕ржорж╕рзНржпрж╛: ржЗржорзЗржЗрж▓ рж╕рзНржкрзНржпрж╛ржорзЗ ржпрж╛ржЪрзНржЫрзЗ

**рж╕ржорж╛ржзрж╛ржи:**

1. ржкрзНрж░ржержо ржХржпрж╝рзЗржХржЯрж╛ ржЗржорзЗржЗрж▓ рж╕рзНржкрзНржпрж╛ржорзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ
2. ржЗржорзЗржЗрж▓ржЯрж┐ "Not Spam" рж╣рж┐рж╕рзЗржмрзЗ ржорж╛рж░рзНржХ ржХрж░рзБржи
3. ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ ржирж┐ржЬрж╕рзНржм ржбрзЛржорзЗржЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи

### рж╕ржорж╕рзНржпрж╛: Server рж▓ржЧрзЗ ржПрж░рж░ ржжрзЗржЦрж╛ржЪрзНржЫрзЗ

**рж╕ржорж╛ржзрж╛ржи:**

1. ржХржирж╕рзЛрж▓рзЗ ржПрж░рж░ ржорзЗрж╕рзЗржЬ ржжрзЗржЦрзБржи:
   ```
   тЭМ Error sending email: [error message]
   ```
2. EMAIL_HOST, EMAIL_PORT ржЪрзЗржХ ржХрж░рзБржи
3. ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржХрж╛ржирзЗржХрж╢ржи ржЪрзЗржХ ржХрж░рзБржи

## ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржирзЛржЯ

тЪая╕П **ржирж┐рж░рж╛ржкрждрзНрждрж╛:**

- ржХржЦржирзЛ `.env` ржлрж╛ржЗрж▓ GitHub ржП ржХржорж┐ржЯ ржХрж░ржмрзЗржи ржирж╛
- рж╕рж╛ржзрж╛рж░ржг ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи ржирж╛, App Password ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
- ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ Gmail ржПрж░ ржмржжрж▓рзЗ ржкрзНрж░ржлрзЗрж╢ржирж╛рж▓ ржЗржорзЗржЗрж▓ рж╕рж╛рж░рзНржнрж┐рж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи

тЬЕ **рж╕рзБржмрж┐ржзрж╛:**

- ржкрзЗржорзЗржирзНржЯ рж╕ржлрж▓ рж╣рж▓рзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржЗржорзЗржЗрж▓
- ржЗржорзЗржЗрж▓ ржирж╛ ржкрж╛ржарж╛рж▓рзЗржУ ржкрзЗржорзЗржирзНржЯ рж╕ржлрж▓ рж╣ржмрзЗ (error handling ржЖржЫрзЗ)
- ржкрзНрж░ржлрзЗрж╢ржирж╛рж▓ HTML ржЗржорзЗржЗрж▓ ржЯрзЗржоржкрзНрж▓рзЗржЯ
- ржХрж╛рж╕рзНржЯржорж╛ржЗржЬ ржХрж░рж╛ рж╕рж╣ржЬ

## ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬржирзНржп

ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ ржПржЗ ржЗржорзЗржЗрж▓ рж╕рж╛рж░рзНржнрж┐рж╕ржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:

1. **SendGrid** - ржлрзНрж░рж┐: рззрзжрзж ржЗржорзЗржЗрж▓/ржжрж┐ржи
2. **Mailgun** - ржлрзНрж░рж┐: рзл,рзжрзжрзж ржЗржорзЗржЗрж▓/ржорж╛рж╕
3. **AWS SES** - ржЦрзБржмржЗ рж╕рж╕рзНрждрж╛, рзз,рзжрзжрзж ржЗржорзЗржЗрж▓рзЗ $рзж.рззрзж
4. **Postmark** - ржЯрзНрж░рж╛ржиржЬрзЗржХрж╢ржирж╛рж▓ ржЗржорзЗржЗрж▓рзЗрж░ ржЬржирзНржп рж╕рзЗрж░рж╛

## рж╕рж╛ржкрзЛрж░рзНржЯ

рж╕ржорж╕рзНржпрж╛ рж╣рж▓рзЗ:

- рж╕рж╛рж░рзНржнрж╛рж░ рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи
- `.env` ржлрж╛ржЗрж▓рзЗрж░ рж╕ржм ржнрзНржпрж╛рж░рж┐ржпрж╝рзЗржмрж▓ рж╕рзЗржЯ ржХрж░рж╛ ржЖржЫрзЗ ржХрж┐ржирж╛ ржжрзЗржЦрзБржи
- `EMAIL_SETUP_GUIDE.md` ржжрзЗржЦрзБржи ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирж╛рж░ ржЬржирзНржп

## ржпрзЛржЧрж╛ржпрзЛржЧ

ржЖрж░рзЛ рж╕рж╛рж╣рж╛ржпрзНржпрзЗрж░ ржЬржирзНржп ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЗржВрж░рзЗржЬрж┐ ржЧрж╛ржЗржб ржжрзЗржЦрзБржи: `EMAIL_SETUP_GUIDE.md`
